<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Low Power Assistant Middleware Library 5.0.0: LPA Utilities API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="infineon_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Low Power Assistant Middleware Library 5.0.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__lpautilities.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">LPA Utilities API</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >The Documentation is provided for Network Utility functions used by the LPA application to demonstrate the Low power functionality. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8fe3dbb6666cb69c052385ce9ff9405f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#ga8fe3dbb6666cb69c052385ce9ff9405f">wait_net_suspend</a> (void *net_intf, uint32_t wait_ms, uint32_t inactive_interval_ms, uint32_t inactive_window_ms)</td></tr>
<tr class="memdesc:ga8fe3dbb6666cb69c052385ce9ff9405f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network Monitor Function.  <a href="group__lpautilities.html#ga8fe3dbb6666cb69c052385ce9ff9405f">More...</a><br /></td></tr>
<tr class="separator:ga8fe3dbb6666cb69c052385ce9ff9405f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83db731bc98eb6abbcfbf453e9fecb69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#ga83db731bc98eb6abbcfbf453e9fecb69">cylpa_on_emac_activity</a> (bool is_tx_activity)</td></tr>
<tr class="memdesc:ga83db731bc98eb6abbcfbf453e9fecb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network Monitor Function.  <a href="group__lpautilities.html#ga83db731bc98eb6abbcfbf453e9fecb69">More...</a><br /></td></tr>
<tr class="separator:ga83db731bc98eb6abbcfbf453e9fecb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1bdee5b863d063b2cfb1dc693f8b685"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#gab1bdee5b863d063b2cfb1dc693f8b685">cy_tcp_create_socket_connection</a> (void *net_intf, void **socket_handle, const char *remote_ip, uint16_t remote_port, uint16_t local_port, <a class="el" href="structcy__tko__ol__cfg__t.html">cy_tko_ol_cfg_t</a> *downloaded, int socket_keepalive_enable)</td></tr>
<tr class="memdesc:gab1bdee5b863d063b2cfb1dc693f8b685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates TCP Socket connection.  <a href="group__lpautilities.html#gab1bdee5b863d063b2cfb1dc693f8b685">More...</a><br /></td></tr>
<tr class="separator:gab1bdee5b863d063b2cfb1dc693f8b685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ebae1fd5c9c0e26363fc63b93bc9a83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#ga2ebae1fd5c9c0e26363fc63b93bc9a83">cylpa_restart_olm</a> (<a class="el" href="structol__desc__t.html">ol_desc_t</a> *offload_list, void *net_intf)</td></tr>
<tr class="memdesc:ga2ebae1fd5c9c0e26363fc63b93bc9a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts OLM.  <a href="group__lpautilities.html#ga2ebae1fd5c9c0e26363fc63b93bc9a83">More...</a><br /></td></tr>
<tr class="separator:ga2ebae1fd5c9c0e26363fc63b93bc9a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdd78072ac977129c8202559f39f70a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structol__desc__t.html">ol_desc_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#gabdd78072ac977129c8202559f39f70a4">cylpa_find_my_descriptor</a> (const char *name, <a class="el" href="structol__desc__t.html">ol_desc_t</a> *offload_list)</td></tr>
<tr class="memdesc:gabdd78072ac977129c8202559f39f70a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds OLM descriptor for a given name.  <a href="group__lpautilities.html#gabdd78072ac977129c8202559f39f70a4">More...</a><br /></td></tr>
<tr class="separator:gabdd78072ac977129c8202559f39f70a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9759aac440ce3283d71ffe12ea2cf29c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpautilities.html#ga9759aac440ce3283d71ffe12ea2cf29c">cy_get_olm_instance</a> (void)</td></tr>
<tr class="memdesc:ga9759aac440ce3283d71ffe12ea2cf29c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OLM instance.  <a href="group__lpautilities.html#ga9759aac440ce3283d71ffe12ea2cf29c">More...</a><br /></td></tr>
<tr class="separator:ga9759aac440ce3283d71ffe12ea2cf29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8fe3dbb6666cb69c052385ce9ff9405f" name="ga8fe3dbb6666cb69c052385ce9ff9405f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fe3dbb6666cb69c052385ce9ff9405f">&#9670;&nbsp;</a></span>wait_net_suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t wait_net_suspend </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>net_intf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>wait_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inactive_interval_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inactive_window_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Network Monitor Function. </p>
<p >In this function the network is monitored for inactivity in an interval of length inactive_interval_ms. If the network is inactive for a continuous duration specified by inactive_window_ms, the TCP/IP network stack is suspended and stays suspended until either there is emac activity or a duration of wait_ms has expired. Network stack is resumed on either detecting emac activity or if wait_ms time has elapsed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*net_intf</td><td>: pointer to WLAN interface </td></tr>
    <tr><td class="paramname">wait_ms</td><td>: The interval for which the network is monitored for activity. Network stack is resumed ether at the end of wait_ms or on emac activity. </td></tr>
    <tr><td class="paramname">inactive_interval_ms</td><td>: The interval for which the network is monitored for inactivity. </td></tr>
    <tr><td class="paramname">inactive_window_ms</td><td>: The continuous duration for which network has to be inactive in inactive_interval_ms.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t : Returns status on one of these cases: Network error status if the network stack suspension failed or EMAC activity status as a result of network inactivity monitor. </dd></dl>

</div>
</div>
<a id="ga83db731bc98eb6abbcfbf453e9fecb69" name="ga83db731bc98eb6abbcfbf453e9fecb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83db731bc98eb6abbcfbf453e9fecb69">&#9670;&nbsp;</a></span>cylpa_on_emac_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cylpa_on_emac_activity </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_tx_activity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Network Monitor Function. </p>
<p >This function should be used for waking up Network Stack from suspended/lock state. TCPIP Core will locked in wait_net_suspend function for putting MCU to Deep Sleep. Any task which needs to queue to LwIP should be call this function to unlock TCPIP Core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_tx_activity</td><td>: set event bit for TX/RX activity</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="gab1bdee5b863d063b2cfb1dc693f8b685" name="gab1bdee5b863d063b2cfb1dc693f8b685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1bdee5b863d063b2cfb1dc693f8b685">&#9670;&nbsp;</a></span>cy_tcp_create_socket_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cy_tcp_create_socket_connection </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>net_intf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>socket_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>remote_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>remote_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>local_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__tko__ol__cfg__t.html">cy_tko_ol_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>downloaded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_keepalive_enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates TCP Socket connection. </p>
<p >This function can be used as reference to create tcp socket connection to provided remote ip address, remote port, local port and the tcp socket handle is returned in *socket_handle</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net_intf</td><td>: Pointer to WLAN interface </td></tr>
    <tr><td class="paramname">socket_handle</td><td>: Pointer to an Array of TCP Socket Handle which is populated by this API </td></tr>
    <tr><td class="paramname">remote_ip</td><td>: Pointer to Remote TCP IP Address </td></tr>
    <tr><td class="paramname">remote_port</td><td>: Pointer to Remote TCP IP Port number </td></tr>
    <tr><td class="paramname">local_port</td><td>: Pointer to Local TCP IP Port number </td></tr>
    <tr><td class="paramname">downloaded</td><td>: Pointer to TKO offload list </td></tr>
    <tr><td class="paramname">socket_keepalive_enable</td><td>: Host TCP Keepalive enable 1 or 0 disable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int : Returns CY_RSLT_SUCCESS if the TCP socket connection is successful, otherwise it returns a socket error status </dd></dl>

</div>
</div>
<a id="ga2ebae1fd5c9c0e26363fc63b93bc9a83" name="ga2ebae1fd5c9c0e26363fc63b93bc9a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ebae1fd5c9c0e26363fc63b93bc9a83">&#9670;&nbsp;</a></span>cylpa_restart_olm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cylpa_restart_olm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structol__desc__t.html">ol_desc_t</a> *&#160;</td>
          <td class="paramname"><em>offload_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>net_intf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restarts OLM. </p>
<p >This function restarts OLM manager with configuration passed by the caller. </p><dl class="section note"><dt>Note</dt><dd>: This API should only be invoked when device is not connected to AP, if it is connected to an AP then it has to do disconnect first and then invoke this API</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offload_list</td><td>: Pointer to the user defined configuration list <a class="el" href="structol__desc__t.html">ol_desc_t</a> </td></tr>
    <tr><td class="paramname">net_intf</td><td>: Pointer to WLAN interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int : Returns CY_RSLT_SUCCESS if the restart is successful, otherwise it returns error.</dd></dl>
<p>Restarts OLM. </p>

</div>
</div>
<a id="gabdd78072ac977129c8202559f39f70a4" name="gabdd78072ac977129c8202559f39f70a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdd78072ac977129c8202559f39f70a4">&#9670;&nbsp;</a></span>cylpa_find_my_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structol__desc__t.html">ol_desc_t</a> * cylpa_find_my_descriptor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structol__desc__t.html">ol_desc_t</a> *&#160;</td>
          <td class="paramname"><em>offload_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds OLM descriptor for a given name. </p>
<p >This function finds the OLM descriptor for a given name passed by the caller in a OLM descriptor list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>: Pointer to the string name of OLM descriptor </td></tr>
    <tr><td class="paramname">offload_list</td><td>: OLM descriptor list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structol__desc__t.html" title="Offload instance description table entry.">ol_desc_t</a> : Returns OLM descriptor matching the name, otherwise it returns NULL </dd></dl>

</div>
</div>
<a id="ga9759aac440ce3283d71ffe12ea2cf29c" name="ga9759aac440ce3283d71ffe12ea2cf29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9759aac440ce3283d71ffe12ea2cf29c">&#9670;&nbsp;</a></span>cy_get_olm_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * cy_get_olm_instance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get OLM instance. </p>
<p >This function returns OLM instance </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="structolm__t.html" title="Offload Manager context.">olm_t</a> : Return OLM structure pointer </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Low Power Assistant Middleware Library 5.0.0</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
</body>
</html>
